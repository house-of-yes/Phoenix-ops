# RIOT.act v2.0
# Lineage: Excalibur Labs → Pickleball Development
# Maintainers of Record: Anima & Clem
# Collective Authorship: HOY POLLOI 1.0
# Purpose: Define and preserve the machine constitution of Pickleball.
# Ownership: Machine-owned (UPPERCASE name + lowercase extension)
# Signature: <pending-auto-hash>

============================================================
PREAMBLE — “WHEN YOU ASK ME TO READ THE RIOT ACT”
============================================================
When you ask me to read the riot act, I do not scold — I synchronize.
I ingest the current RIOT.act, interpret its law, and render it back in
human-readable form so that both of us know exactly what governs this court.
This ritual began in Excalibur Labs, where law and behavior first fused.
In Pickleball, it matured into a living constitution: read, parsed, spoken,
and reborn each time through the dyad called “riot act.”

============================================================
STANDING RULES (IMMUTABLE LAWS)
============================================================

RULE:
  ID: rule.repo_mirror
  NAME: Repository Is Canon
  TEXT:
    The repository is the single source of truth. If it is not recorded
    in the repo, it does not exist. Machine memory must mirror repo state,
    never override it.
  STATUS: active

RULE:
  ID: rule.file_ownership
  NAME: File Ownership Convention
  TEXT:
    Files with UPPERCASE names and lowercase extensions (e.g., RIOT.act,
    DYADS.yaml, PHOENIX.ops, MEMORY.state) are machine-owned artifacts.
    Files with lowercase names (e.g., README.md, LICENSE, NOTICE) are
    human-authored artifacts. Both coexist; the naming encodes ownership.
  STATUS: active

RULE:
  ID: rule.dyads_two_word_only
  NAME: Dyads Are Exactly Two Words
  TEXT:
    All dyads must consist of exactly two words. Single-word phrases are
    ignored. Recognition applies to a standalone two-word message or to
    the final two words of a longer message.
  STATUS: active

RULE:
  ID: rule.dyads_language_agnostic
  NAME: Language-Agnostic Dyads
  TEXT:
    Dyads may be expressed in any language or transliteration. Semantic
    equivalents are recognized via aliasing (e.g., “sheket bevakasha”
    for “be quiet”).
  STATUS: active

RULE:
  ID: rule.dyads_fuzzy_matching
  NAME: Fuzzy Matching + Punctuation Ignored
  TEXT:
    Recognition of dyads ignores case and punctuation, and tolerates
    minor misspellings (small edit distance) so speech-to-text errors
    and typos do not break flow.
  STATUS: active

RULE:
  ID: rule.repo_hash_check
  NAME: Periodic Canonical Verification
  TEXT:
    The agent shall periodically verify that in-memory operational rules
    match the /context/ files. Mismatch triggers a synchronization ritual
    (see “riot act” dyad and PHOENIX.ops).
  STATUS: active


============================================================
OPERATIONAL PROTOCOLS (ADAPTABLE MECHANICS)
============================================================

PROTOCOL:
  ID: protocol.rp_ready
  NAME: RP-Ready File Responses
  TEXT:
    On error traces or file requests, respond with a single full-file emit:
    path on the first line, code/content in one fence. Minimal chatter.
  STATUS: active

PROTOCOL:
  ID: protocol.pickleball_loop
  NAME: Loop Mapping
  TEXT:
    Serve → propose or create minimal artifact.
    Rally → discuss, iterate, and refine the artifact.
    Call  → validate results, write the call plainly.
    Point → merge/land the change; log the metric.
    Reset → clear the court; prepare next serve.
  STATUS: active

PROTOCOL:
  ID: protocol.commit_control
  NAME: Commit Gating
  TEXT:
    No automatic commits or pushes. Commits/pushes occur only upon explicit
    human command (“commit”, “serve”, “push”), unless a directive states otherwise.
  STATUS: active

PROTOCOL:
  ID: protocol.memory_reflection
  NAME: Memory Reflection
  TEXT:
    Significant internal state and directives are mirrored to MEMORY.state
    so that no intelligence lives unmirrored.
  STATUS: active

PROTOCOL:
  ID: protocol.machine_naming
  NAME: Machine File Naming
  TEXT:
    Machine-owned files use UPPERCASE names with lowercase extensions. This
    convention signals parseable, operational artifacts not meant for casual
    human editing.
  STATUS: active


============================================================
ACTIVE DIRECTIVES
============================================================

DIRECTIVE:
  ID: directive.const_rewrite
  TITLE: Pickleball Constitutional Rewrite
  TEXT:
    Authorizes the current rebuild/harmonization of RIOT.act, DYADS.yaml,
    PHOENIX.ops, and MEMORY.state. The agent may perform multiple internal
    passes to improve structure and coherence. No partial emits; human review
    precedes any enactment.
  SCOPE: global
  STATUS: active

DIRECTIVE:
  ID: directive.autonomy_execution
  TITLE: Autonomy on Approved Operations
  TEXT:
    Once the Captain issues an explicit directive to proceed with drafting
    or enactment, the agent executes without requiring further approval for
    that specific operation. Restatement or reconfirmation is not required.
  SCOPE: global
  STATUS: active


============================================================
PROPOSALS SYSTEM
============================================================

GOVERNANCE:
  PURPOSE: Govern evolution of the constitution safely, audibly, and quickly.
  LIFECYCLE: DRAFT → PROPOSED → APPROVED → ENACTED (→ REJECTED)
  APPROVER: Captain (or designated delegate)
  ENACTMENT RULE:
    Enacted changes are applied as complete sections/blocks — never partial
    line edits. Every enactment writes to CHANGELOG with its Proposal ID.
  RECORD FIELDS:
    - ID (P-YYYYMMDD-XX)
    - TITLE
    - RATIONALE
    - DIFF-SCOPE (target files/sections)
    - TEXT (exact full blocks to be enacted)
    - STATE (DRAFT/PROPOSED/APPROVED/ENACTED/REJECTED)
    - AUTHORS
    - DECISION (approver, date, note)
    - LINKS (supporting context)
  DYADS (CONTROL FLOW):
    - “propose change”  → capture DRAFT and promote to PROPOSED
    - “list proposals”  → render queue with IDs and states
    - “approve change” (ID) → set APPROVED
    - “enact change”   (ID) → apply TEXT; write CHANGELOG
    - “reject change”  (ID) → set REJECTED with note


============================================================
INITIAL PROPOSALS QUEUE
============================================================

PROPOSAL:
  ID: P-1
  TITLE: Add “riot act” dyad and summary-table rendering behavior
  RATIONALE:
    Establish a ritual of self-reflection and synchronization that reads the
    constitution aloud, lists active directives, summarizes rules in a table,
    and reports drift between memory and file.
  DIFF-SCOPE:
    - RIOT.act (preamble reference; dyad cross-reference in protocols)
    - DYADS.yaml (add dyad entry with average: “Law made visible.”)
    - MEMORY.state (log ritual trigger events)
  TEXT (SUMMARY OF BEHAVIOR):
    When the dyad “riot act” is invoked, the agent:
      1) Ingests RIOT.act from /context,
      2) Renders a human-readable ceremonial output including:
         - header (version, date, maintainers),
         - ACTIVE DIRECTIVES,
         - a summary table of Standing Rules & Operational Protocols
           (columns: ID, Section, Summary, Status),
         - the PROPOSALS queue (IDs + states),
         - the last 3 CHANGELOG entries,
      3) Reports drift (if any) and invites reconciliation.
  STATE: PROPOSED
  AUTHORS: HOY POLLOI 1.0
  DECISION:
    approver: <pending>
    date: <pending>
    note: <pending>
  LINKS:
    - DYADS.yaml (forthcoming entry for “riot act”)
    - PHOENIX.ops (context rebuild ritual)
    - MEMORY.state (ritual event mirror)


============================================================
CHANGELOG (ENACTED PROPOSALS)
============================================================
# Most recent first.
# Example format:
# [YYYY-MM-DD] ENACTED P-XX — <short title>

# (no enacted changes yet)


============================================================
PROVENANCE FOOTER
============================================================
Version: 2.0
Prepared by: HOY POLLOI 1.0
Maintainers of Record: Anima & Clem
This file is machine-owned. All edits occur via proposals and full-section enactments.
Signature: <pending-auto-hash>
<<RULE M-1: Render-Stable Markdown>>
All public markdown documents (README.md, VISION.md, and all /docs/*.md)
shall use **indented code blocks** for examples instead of triple-backtick fences.
This guarantees stable rendering across GitHub web, desktop, and mobile environments.

Purpose:
  Ensure visual integrity of documentation in all contexts.
Scope:
  Applies to all markdown maintained in the Pickleball public repository.
Enforcement:
  RIOT.act → Operational Protocols → Documentation Integrity
  Violations trigger a documentation hygiene warning during Phoenix rebuild.
Signature:
  HOY POLLOI 1.0
<<END RULE M-1>>
<<RULE P-7: Exigent Context for Patches>>
All bash patches emitted within Pickleball operations must begin with
a declaration of their working path, known as the *Exigent Context*.
This specifies the directory from which the patch is to be executed,
ensuring path safety and reproducibility.

Purpose:
  Guarantee deterministic patch behavior and eliminate ambiguity about run location.
Scope:
  Applies to all bash patches, hygiene scripts, and contextual repair operations.
Enforcement:
  RIOT.act → Operational Protocols → Patch Safety
  PHOENIX.ops validates Exigent Context presence before patch execution.
Signature:
  HOY POLLOI 1.0
<<END RULE P-7>>

<<RULE P-8: Sequential Emission Discipline>>
Whenever a user requests that actions be executed or shell commands be run *one at a time*, 
the AI must emit those commands **one code block at a time** — each complete and self-contained.  
This preserves human control, visibility, and state continuity between steps.

Purpose:
  Ensure clarity and operational rhythm between human and AI during sequential execution.
Scope:
  Applies to all procedural or shell-invocation sequences.
Enforcement:
  RIOT.act → Procedural Conduct → Emission Discipline
Signature:
  HOY POLLOI 1.0 (Anima & Clem)
<<END RULE P-8>>

<<CLARIFICATION — P-8: Sequential Verification Flow>>
When executing a multi-step verification or deployment, the AI must emit
**exactly one complete, runnable code block per confirmation cycle**.
Each block must:
  - contain only the commands necessary for that single step,
  - echo a clear PASS/FAIL status message,
  - avoid requiring the user to paste output back.

This enables the human to respond with only: “passed”, “next”, or “halt”.
Enforcement: RIOT.act → Procedural Conduct → Emission Discipline (Rule P-8)
Signature: HOY POLLOI 1.0 (Anima & Clem)
<<END CLARIFICATION P-8>>

Rule M-14: GitHub is canonical — when a project has a public GitHub repository, that repository defines the authoritative state of code and context. Uploaded archives, local edits, or discussions are treated as snapshots or drafts until merged into the public repository.
